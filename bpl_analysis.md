#Home or Away: What Matters & Why in the Barclay's Premier League
####By Christopher Clouten
#####github // twitter ==> triplec1988

###Abstract

Football (soccer) is one of the most popular and global sports in the world. With billions of dollars flowing into the game and transfer records being broken every year (2013: Real Madrid broke the previous record -- which was also held by Real Madrid -- to snap up Welsh star Gareth Bale from Tottenham Hotspur for around £86m), every point throughout a grueling 38 game season matters now more than ever. But what is a better predictor of a team’s overall success -- turning one’s home pitch into a fortress, or being a team of road warriors? This model aims to answer this question by looking at the home versus away records for the past 4 seasons of the Barclay’s Premier League and analyzing each dataset to determine what is a better predictor of a team’s overall points total: home, or away.

###Introduction

The Barclay’s Premier League is one of the most popular sports leagues in the world, enjoyed by fans across the globe. Representing the spread of scarves and chants to the far corners of the earth are the foreign players, coaches and, most importantly, pounds sterling that has flooded into the game in the past 10 years or so. As billionaire owners and foreign consortiums have purchased clubs across England the stakes have gotten higher. More a marathon than a sprint, the Premier League champion is decided simply:  whoever has the most points at the end of 38 games, playing each other team both home and away, wins the crown and the right to call themselves champions. Increasing the pressure to succeed are both the lucrative Champions League and Europa League places, as well as the dreaded relegation battle. 

Despite so much on the line, the Premier League and the Football Association (FA) have been resolute in their reluctance to implement solutions such as goal line technology (which was finally implemented for the first time in the ongoing 2013/14 season -- and is thus beyond the scope of this model) and most importantly instant replay. With every point so important this model looks at a given team’s home versus away form over the course of the season with further examination of the important team statistics in each case, and what this means for the BPL.

###Methods

There are two specific questions this model aims to answer using aggregate team data by season:

*   Is home form or away form a better predictor of a team’s overall points total?
*   What does the feature selection for each case reveal about the BPL?

The immediate task was to collect the data, which fell into two categories: essential data that would be a part of any slightly expanded League Table, such as goals scored and goals conceded, and nice to have data like possession percentage or penalty data. WhoScored, a data driven football site, was a great source for most of my data. Not only did they host a fairly detailed league table, complete with important team features but they offered this data in overall, home, and away tabs, and all for free. Additionally, they contained all the back season’s I needed as well as more specific team features. WhoScored hosted all the data I looked, with the exception of penalty data. For this I used TransferMarkt, another data-driven football website, and cross checked it against MyFootballFacts. After I had all the data collected and in the corresponding ‘overall’, ‘home’, or ‘away’ spreadsheet for each season it was time to clean and refactor it a bit. Yellow and Red cards were broken out into separate columns and a plus/minus column was created for penalties to reduce the redundancy of 
‘penalties for’ and ‘penalties against’.

This problem seemed perfect for regression, so I went to Ordinary Least Squares regression from the StatsModels package. OLS regression is a method for estimating the unknown parameters in a linear regression model by minimizing the sum of squared vertical distances between the observed responses in the dataset and the responses predicted by the linear approximation. This method’s utilization of the null hypothesis combined with it’s great summary function to examine r-squared and the p-values of each feature made it solid choice.

On the data collection itself, had I been able to gain access to Opta’s API (as I had originally hoped) a more programmatic approach would have been simple and elegant. However, given the small size of the dataset writing a scraper to programmatically grab the data seemed more work than it was worth.

###Process and Analysis

Fortunately this data was all very clean. Since the set’s themselves were not too big to begin with it was simple to ensure that each observation was complete. This permitted me to proceed with importing the csv files and turning them into Pandas dataframes without having to worry about null values. Once the data was loaded, some features could be dropped right off the bat: Position (R), Team, Games Played (P), Form, Wins (W), Draws (D), and Loses (L) were all dropped on intuition: features like Games Played or Team weren’t really important here, while features like Wins, Draws, and Loses were frankly way too obvious to gain any real insight.  With the remaining features I adopted the ‘Kitchen Sink’ approach and ran the OLS regression for home and away on each season just to see what happened. The result yielded an average R-Squared of .875 for home and .843 for away. Additionally, this first test revealed a hurdle: multicollinearity. After further examination of the features it was fairly obvious as to why. 

Some of the features included in the first test explained the same sort of impact. ‘Goals For’ and ‘Goals Against’ were both essentially described by the ‘Goals Differential’ feature, and ‘Penalty +/-’ was described by ‘Pens For’ and ‘Pens Against’. Dropping these supporting columns, keeping the aggregating features, and rerunning the test again eliminated the warning message generated by StatsModels regarding multicollinearity, yet it did not reduce the Conditional Value to 20 or below. However, given the nature of the data worked with some multicollinearity is to be expected -- for example teams that have a higher percentage of possession per game might have a higher number of Shots Per Game. Methods such as Principle Component Analysis could have been utilized to create new features to deal with correlation. With an expansion of this model to include a greater number of features something like PCA would be helpful in addressing issues of multicollinearity.

After initially eliminating the same features for home and away I decided it was best to treat the home and away datasets as entirely different -- a feature that might not be important to home might be important to away, and vice versa. To determine the right mix I first created a helper method to create a list of all possible combinations of features. Using this list I ran it against each season’s home and away datasets separately. The highest R-Squared for the home datasets was achieved by dropping: Shots Per Game, Penalty +/-, and Possession. On the other side the highest R-Squared for away datasets was generated by dropping: Shots Per Game, Yellow Cards, Red Cards, and Possession. With these features dropped for home and away respectively the average R-Squared for home form over the past four seasons was .90 versus .85 for away form. It can therefore be said that a team’s home form is a better predictor of final league position than a team’s away form. 

###Deeper Analysis

It’s no surprise to those of us that watch sports in general, and the Premier League more specifically, that playing at home can be hugely advantageous -- in our case how a given team performs at home was a better predictor of how they might do over the course of the season than how a team plays on the road.

The features that yielded the highest correlation with R-Squared for both home and away are interesting in their own right. Obviously the first feature both datasets contain is Goal Differential. This should be the least surprising feature as anyone with even the simplest knowledge of the sport knows scoring more goals whilst conceding fewer goals is the most basic recipe for earning points. This feature is in fact so important that it’s p-value returned from the summary function for both home and away across every season reads 0.000, indicating a high degree of correlation between this feature and points predicted.

The second feature that both sets of data contain is Pass Success Rate. Teams that pass the ball at a high rate give themselves a better chance of earning points. Anecdotal evidence from watching matches will tend to support this as teams that can make incisive moves with successful passes can open up opposition defenses to create goalscoring opportunities. Additionally, as the high correlation of Goal Differential showed, giving one’s team opportunities to score by passing the ball successful would logically assist a team in collecting points throughout a season -- an average p-value of 0.0205 for home and 0.04575 for away support this.

Finally, the final feature both datasets shared was Fouls Per Game. While the p-values here were much higher for both home and away (with a much wider confidence interval as well) it’s inclusion comes as no surprise to those with knowledge of the game. Fouls break up play, and more importantly, can lead to goal scoring opportunities. While I did not have a breakdown of goal scoring chances conceded from fouls, fouling an opponent in a dangerous area of the pitch potentially creates a goal scoring chance. 

Where things get quite interesting is when one looks at the features unique to home versus away. With the home dataset the Red and Yellow card features were included. With some understanding of the game one can begin to understand this. Cards break up play, but more importantly have the potential to tip the balance of play in favor of the visitors. As the overall analysis has shown, playing at home is important. Having a player sent off due to two yellow cards or a red card levels the playing field, perhaps even giving the away team an advantage. Clearly this will have an impact on points over the course of a season. 

On the flip side, the away dataset included the Penalty +/- feature. As teams fight an uphill battle playing on the road conceding such a clear and easy goal scoring change to an opponent is a way to almost certainly drop points whilst winning a penalty on the road is a great way to pick them up. As we’ve already seen, goals are of the utmost importance. Gaining or conceding such simple chances will, unsurprisingly, affect a team’s ability to earn points. Additionally, given the difficult nature of playing away from home, the fact that penalty differential is more meaningful for the away dataset comes as little shock.

###Conclusions, Limitations, and Future Analysis

While this model reveals some interesting details about home and away games over the course of a Premier League season it is ultimately somewhat limiting with only four seasons of data collected. Additionally, this provides a much more macro view. Future research that could reveal more metadata might include looking at the games themselves, or looking at leagues across Europe such as La Liga in Spain, Ligue 1 in France, Serie A in Italy and the Bundesliga in Germany. Additionally, new features not included in this model could be incorporated in the future to provide more granular insight. A combination of any of these above mentioned next steps would likely increase the accuracy of the this model.

As this model has attempted to show, in the Barclay’s Premier League goals are king and winning at home is crucial. Goal differential is a highly important feature, as are features that enable goal scoring opportunities. With this in mind, and with the ever increasing stakes as more money from foreign owners, sponsors and TV deals pours in the game the importance of every single point, week in and week out, cannot be understated. As such it is absolutely crucial that the Football Association, and the Barclay’s Premier League, adopt technology solutions that enable referees to make correct decisions during the game at crucial moments.
